<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <th:block th:replace="fragments/risorse :: risorse-head"></th:block>
    <title>Menú</title> 
  </head>
  <body>
  <nav th:replace="fragments/navbar :: navbar('menu')"></nav>
  <div class="container">
  	<th:block th:if="${successMessage != null && successMessage != ''}">
  		<div  class="alert alert-success" th:text="${successMessage}"></div>
  	</th:block>
  	<h1>Menú</h1>
  	<hr/>
  	<a class="btn btn-success" th:href="@{/add}">Aggiungi una pizza</a>
  	<table class="table" th:if="${pizza.size() > 0}">
  		<thead>
  			<tr>
	  			<th>Nome</th>
	  			<th>Descrizione</th>
	  			<th>Prezzo</th>
	  			<th>Ingredienti</th>
	  			<th>Azioni</th>
  			</tr>
  		</thead>
  		<tbody>
  			<tr th:each="p : ${pizza}">
  				<td th:text="${p.nome}"></td>
	  			<td th:text="${p.descrizione}"></td>
	  			<td th:text="${p.prezzo}"></td>
	  			<td>
	  				<ul>
	  					<li th:each="ing : ${p.ingredienti}" th:text="${ing.nome}"></li>
	  				</ul>
	  			</td>
	  			<td>
	  				<a class="btn btn-dark" th:href="@{|/detail/${p.id}|}" title="Detail">
	  					<i class="fa-solid fa-circle-info"></i>
	  				</a>
	  				<a class="btn btn-danger" th:href="@{|/delete/${p.id}|}" title="Delete" onclick="return confirm('Are you sure?')">
	  					<i class="fa-solid fa-trash-can"></i>
	  				</a>
	  				<a class="btn btn-primary" th:href="@{|/edit/${p.id}|}" title="Edit">
	  					<i class="fa-solid fa-pen-to-square"></i>
	  				</a>
	  			</td>
  			</tr>
  		</tbody>
  	</table>
  </div>
  <div class="alert alert-info my-5" th:unless="${pizza.size() > 0}">
  	<h3>Nessuna pizza nel menú</h3>
  </div>
  </body>
</html>